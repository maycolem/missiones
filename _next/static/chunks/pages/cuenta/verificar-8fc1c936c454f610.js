(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3839],{90481:function(e,n,r){"use strict";r.d(n,{p:function(){return q}});var t=r(59499),i=r(50029),a=r(87794),o=r.n(a),s=r(73403),c=r(85260),u=r(42162),l=r(42447),d=r(87979),f=r(73710),p=r.n(f),m=r(67294),h=r(41248),g=r(53918),v=r(16835),x=r(11942),y=function(){var e,n=(0,x.Yh)(),r=(0,v.Z)(n,2),t=r[0],i=r[1];return{uploadFile:t,loading:i.isLoading,error:i.isError}},b=/image\/(jpeg|jpg|png)/,w=function(){var e=(0,h.I0)(),n=(0,m.useCallback)(function(n){e((0,l.zp)({message:n,severity:"error",open:!0,autoHideDuration:5e3}))},[e]);return(0,m.useCallback)(function(e){return e.length>2?(n("Solo se permiten dos im\xe1genes"),!1):Array.from(e).every(function(e){return b.test(e.type)?!(e.size>2e6)||(n("El archivo es demasiado grande,$$ el tama\xf1o m\xe1ximo permitido es de 2 MB"),!1):(n("Formato de archivo no permitido,$$ solo se aceptan .jpg, .jpeg y .png"),!1)})},[n])},j=r(94184),k=r.n(j),_=r(89583),C=r(85893),E=function(e){var n=e.preview,r=e.fileStatuses,t=e.isError;return(0,C.jsx)(O,{children:n.map(function(e,n){return(0,C.jsxs)("div",{className:"wrapper",children:[(0,C.jsx)("img",{src:e.url,alt:e.name}),(0,C.jsxs)("p",{children:[e.name.length>15?"".concat(e.name.slice(0,15),"..."):e.name,(0,C.jsx)(_.wO,{className:k()({success:r[n].success,error:t})})]})]},"preview-".concat(n))})})},O=g.default.div.withConfig({displayName:"PreviewFiles__PreviewCss",componentId:"sc-1lyp4b0-0"})(["display:flex;flex-direction:row;gap:1rem;align-items:center;justify-content:center;flex-wrap:wrap;.wrapper{display:flex;flex-direction:column;align-items:center;gap:0.5rem;img{height:180px;object-fit:cover;border-radius:0.5rem;}p{display:flex;flex-direction:row;gap:0.5rem;align-items:center;justify-content:center;font-size:0.8rem;color:",";svg{font-size:clamp(1rem,2vw,1.2rem);color:",";&.success{color:",";}&.error{color:",";}}}}"],function(e){return p()(e.theme.contrastText,.5)},function(e){return p()(e.theme.contrastText,.5)},function(e){return e.theme.success},function(e){return e.theme.error}),N=r(6767),P=r.n(N),I=function(e){var n=e.handleButtonClick,r=e.handleFileChange,t=e.fileInputRef;return(0,C.jsxs)(F,{children:[(0,C.jsx)("label",{className:"file-upload",children:"Agregar aqu\xed la imagen de tu documento de identidad, Puedes subir una o hasta dos im\xe1genes (ambos lados)."}),(0,C.jsx)("input",{hidden:!0,multiple:!0,type:"file",id:"file-upload",name:"file-upload",ref:t,accept:"image/png, image/jpeg, image/jpg",onChange:r}),(0,C.jsx)(d.z,{variant:"outline",onClick:n,children:"Subir imagen"})]})},F=g.default.div.withConfig({displayName:"UploadContainer__UploadContainerCss",componentId:"sc-whxngw-0"})(["display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;.file-upload{padding:1rem;border-radius:0.5rem;width:100%;text-align:center;color:",";}button{padding:0.5rem 2rem;&:hover{background:",";}&:active{background:",";}&:focus-visible{outline:thin auto ",";}}"],function(e){return P()(e.theme.contrastText).alpha(.4).string()},function(e){return P()(e.theme.primary).alpha(.05).string()},function(e){return P()(e.theme.primary).alpha(.1).string()},function(e){return e.theme.primary});function D(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function S(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?D(Object(r),!0).forEach(function(n){(0,t.Z)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var q=function(e){var n,r=e.refetch,t=(0,m.useRef)(null),a=(0,m.useState)([]),f=a[0],p=a[1],g=(0,m.useState)([]),v=g[0],x=g[1],b=(0,m.useState)([]),j=b[0],k=b[1],_=(0,h.I0)(),O=(0,u.Z)().session,N=y(),P=N.uploadFile,F=N.loading,D=N.error,q=w(),R=(0,m.useState)(!1),z=R[0],A=R[1],V=function(){t.current.click()},Z=function(e){var n=e.target.files;n&&q(n)&&(p(Array.from(n)),x(Array.from(n).map(function(e){return{url:URL.createObjectURL(e),name:e.name}})),k(Array.from(n).map(function(){return{loading:!1,success:!1}})))},G=function(){x([]),p([]),k([])},B=(n=(0,i.Z)(o().mark(function e(){var n,t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),!(f.length>0&&f.length<=2)){e.next=9;break}n=o().mark(function e(n){var t,i,a,u;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(function(e){return e.map(function(e,r){return r===n?S(S({},e),{},{loading:!0}):e})}),(t=new FormData).append("myFile",f[n]),t.append("session",O),t.append("company",s.j1),t.append("type","IDENTITY"),e.prev=6,e.next=9,P(t).unwrap();case 9:if("OK"!==(i=e.sent).result){e.next=20;break}return _((0,l.zp)({message:"Archivo cargado con \xe9xito!",severity:"success",open:!0,autoHideDuration:5e3})),k(function(e){return e.map(function(e,r){return r===n?{loading:!1,success:!0}:e})}),e.next=15,(0,c.g)(3e3);case 15:x([]),r(),A(!1),e.next=21;break;case 20:"error"===i.result&&"object"==typeof i&&(u="Lo sentimos, hubo un problema al subir tu archivo. Por favor, verifica el tipo de archivo e int\xe9ntalo de nuevo.",(a=i).code&&-71===a.code&&(u="Parece que el archivo no se ha podido cargar correctamente. Por favor, revisa el archivo y vuelve a intentar."),x([]),_((0,l.zp)({message:u,severity:"error",open:!0,autoHideDuration:5e3})),k(function(e){return e.map(function(e,r){return r===n?S(S({},e),{},{loading:!1,success:!1,error:u}):e})}),A(!1));case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),k(function(e){return e.map(function(e,r){return r===n?{loading:!1,success:!1}:e})}),A(!1);case 27:case"end":return e.stop()}},e,null,[[6,23]])}),t=0;case 4:if(!(t<f.length)){e.next=9;break}return e.delegateYield(n(t),"t0",6);case 6:t++,e.next=4;break;case 9:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,C.jsx)(T,{children:v.length>0?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(E,{preview:v,fileStatuses:j,isError:D}),(0,C.jsxs)(U,{children:[(0,C.jsx)(d.z,{variant:"outline",onClick:G,disabled:F||z,children:"Eliminar"}),(0,C.jsx)(d.z,{variant:"contained",type:"submit",onClick:B,loading:F||z,children:"Enviar Solicitud"})]})]}):(0,C.jsx)(I,{handleButtonClick:V,handleFileChange:Z,fileInputRef:t})})},T=g.default.div.withConfig({displayName:"FileUpload__FileUploadCss",componentId:"sc-1h4bdg9-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:space-around;gap:1rem;padding:1rem;margin:1rem;min-height:40vh;background:",";border:thin dashed ",";;border-radius:0.5rem;"],function(e){return e.theme.background},function(e){return p()(e.theme.contrastText,.4)}),U=g.default.div.withConfig({displayName:"FileUpload__ContentButtonCss",componentId:"sc-1h4bdg9-1"})(["width:100%;display:flex;flex-direction:row;gap:1rem;align-items:center;justify-content:center;> button{width:100%;max-width:200px;padding:calc(0.7vmax + 0.1rem) calc(1vw + 0.5rem);&:focus-visible{outline:thin solid ",";}}"],function(e){return e.theme.primary})},43714:function(e,n,r){"use strict";r.d(n,{q:function(){return l}});var t=r(6767),i=r.n(t),a=r(98787),o=r(73710),s=r.n(o);r(67294);var c=r(53918),u=r(85893),l=function(e){var n=e.children,r=e.severity;return(0,u.jsx)(d,{severity:r,children:n})},d=(0,c.default)(a.b).withConfig({displayName:"VerificationAlert__AlertCss",componentId:"sc-1xxykq9-0"})(["margin:1rem;background:",";border:thin solid ",";color:",";.warning{color:",";font-weight:600;}.text__paragrah{color:",";line-height:1.5;}.simple___alert{color:",";background:",";border:thin solid ",";}"],function(e){return"error"===e.severity||"info"===e.severity?e.theme.background:e.theme.alternate12},function(e){return s()(e.theme.contrastText,.2)},function(e){return i()(e.theme.status.dark).alpha(.55)},function(e){return e.theme.primary},function(e){return s()(e.theme.contrastText,.5)},function(e){return i()(e.theme.status.dark).alpha(.55)},function(e){return e.theme.alternate12},function(e){return e.theme.alternate20})},90442:function(e,n,r){"use strict";r.d(n,{i:function(){return i}});var t=r(11942),i=function(e){var n,r=e.session,i=e.verified,a=(0,t.JO)({session:r},{skip:!r||Boolean(i)}),o=a.data;return{data:o,loading:a.isLoading,refetch:a.refetch}}},11942:function(e,n,r){"use strict";r.d(n,{JO:function(){return a},Yh:function(){return i}});var t=r(24705).ll.injectEndpoints({endpoints:function(e){return{uploadFile:e.mutation({query:function(e){return{url:"data/uploadFile",method:"POST",body:e}}}),getUserFilesV2:e.query({query:function(e){var n=e.session;return"data/getUserFiles?session=".concat(n)},transformResponse:function(e){return e.files.map(function(e){return{fileId:e.file,status:e.status}})}})}},overrideExisting:!0}),i=t.useUploadFileMutation,a=t.useGetUserFilesV2Query},92542:function(e,n,r){"use strict";r.r(n);var t=r(50029),i=r(87794),a=r.n(i),o=r(85992),s=r(8621),c=r(42162),u=r(90481),l=r(43714),d=r(90442),f=r(84225),p=r(11163),m=r(67294),h=r(53918),g=r(85893),v=function(){var e,n,r=(0,c.Z)(),i=r.verified,f=r.session,h=(0,d.i)({session:f,verified:i}),v=h.data,y=h.refetch,b=(0,p.useRouter)(),w=null==v?void 0:null===(e=v[0])||void 0===e?void 0:e.status;(0,m.useEffect)(function(){i&&k()},[i]),(0,m.useEffect)(function(){C(w)&&_()},[v]);var j,k=(n=(0,t.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.push({pathname:s.H["/"].url});case 2:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),_=(j=(0,t.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.push({pathname:o.e["/cuenta/verificar/estado"].url});case 2:case"end":return e.stop()}},e)})),function(){return j.apply(this,arguments)}),C=function(e){return["EXPIRED","DENIED","APPROVED","REVISING","PENDING"].includes(e)};return(0,g.jsxs)(x,{children:[(0,g.jsx)(l.q,{severity:"error",children:(0,g.jsxs)("p",{className:"text__paragrah",children:["Hola, te recordamos que tu cuenta a\xfan ",(0,g.jsx)("span",{className:"warning",children:"no ha sido verificada"}),". \xdanicamente las cuentas verificadas pueden retirar sus ganancias. Verificamos las cuentas para asegurarnos que seas t\xfa el titular de la misma."]})}),(0,g.jsx)(u.p,{refetch:y}),(0,g.jsx)(l.q,{className:"custom-alert-info",children:(0,g.jsx)("p",{className:"bottom-text",children:"(Sube foto de tu DNI, Pasaporte o Carnet de Extranjer\xeda escaneados por ambos lados seg\xfan aplique, en formato JPG, JPEG y PNG, no mayor a 1 Mb)"})})]})};n.default=v;var x=h.default.div.withConfig({displayName:"verificar__VerificarCss",componentId:"sc-uu3wsg-0"})(["display:flex;flex-direction:column;gap:1rem;padding:0;background:",";flex:1;","{padding:1rem;}"],function(e){return e.theme.alternate12},f.q.min_width.tabletS)},23213:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/verificar",function(){return r(92542)}])}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=23213)}),_N_E=e.O()}]);