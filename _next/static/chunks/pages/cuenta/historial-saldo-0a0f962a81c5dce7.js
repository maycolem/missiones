(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3623],{29918:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ev}});var i,a,o,r,l,s,d,c,u,p,f=n(59499),m=n(85260),h=n(2817),v=n(53918),g=n(84225),x=n(94184),y=n.n(x),E=n(85893),O=function(e){var t=e.data;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(b,{children:t.map(function(e,t){return(0,E.jsxs)(_,{children:[(0,E.jsx)("div",{className:"title-id",children:e.operation}),(0,E.jsxs)(T,{children:[(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"title",children:"Fecha y Hora"}),(0,E.jsx)("div",{className:"row-content",children:e.operation_dateFormat})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"title",children:"Tipo Movimiento"}),(0,E.jsxs)("div",{className:"row-content",children:[e.type_nameTranslate," "]})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"title",children:"M\xe9todo"}),(0,E.jsx)("div",{className:"row-content",children:e.method_nameTranslate})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"title",children:"Monto"}),(0,E.jsx)("div",{className:y()("row-content amount",{negative:e.amount<0}),children:e.amountCurrency})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"title",children:"Saldo"}),(0,E.jsx)("div",{className:"row-content",children:e.balanceCurrency})]})]})]},e.operation+e.operation_date+t)})})})},_=v.default.div.withConfig({displayName:"Cards__StyledItem",componentId:"sc-1mvnbe-0"})(["&{border:1px solid ",";border-radius:8px;padding:10px;padding-bottom:0;background:",';display:flex;flex-direction:column;gap:10px;box-shadow:rgba(149,157,165,0.2) 0px 4px 10px;.title-id{text-align:center;font-feature-settings:"tnum";font-weight:400;}}'],function(e){return e.theme.alternate8},function(e){return e.theme.background}),T=v.default.div.withConfig({displayName:"Cards__StyledItemContent",componentId:"sc-1mvnbe-1"})(["display:flex;justify-content:flex-start;flex-wrap:wrap;display:grid;position:relative;top:1px;border-top:1px solid ",";grid-auto-flow:dense;grid-template-columns:repeat(auto-fill,minmax(calc(100% / 2),1fr));","{grid-template-columns:repeat(auto-fill,minmax(calc(100% / 3),1fr));}.row{display:flex;flex-direction:column;gap:2px;border-bottom:1px solid ",";padding-bottom:7px;padding-top:7px;padding-left:0;padding-right:10px;.title{font-size:0.75rem;text-transform:uppercase;color:#1a1b25;font-weight:500;}.row-content{&.negative{color:",';}white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:#6e6e73;font-size:0.95rem;font-feature-settings:"tnum";}}'],function(e){return e.theme.alternate8},g.q.min_width.tabletS,function(e){return e.theme.alternate8},function(e){return e.theme.primary}),b=v.default.div.withConfig({displayName:"Cards__Styled",componentId:"sc-1mvnbe-2"})(["padding:1rem 1rem;padding-top:0;display:flex;flex-direction:column;gap:1rem;overflow:hidden;"]),N=n(13614),P=n(75921),j=n(98102),w=n(37858),S=n(58439),A=n(73710),C=n.n(A),I=function(e){var t=e.data;return(0,E.jsx)(D,{className:"scroll-container",children:(0,E.jsx)("div",{children:(0,E.jsxs)(N.Z,{"aria-label":"sticky table",stickyHeader:!0,children:[(0,E.jsx)(M,{children:(0,E.jsxs)(P.Z,{children:[(0,E.jsx)(j.Z,{title:"El ID del movimiento no es el ID de la apuesta",children:"ID MOVIMIENTO"}),(0,E.jsx)(j.Z,{children:"FECHA Y HORA"}),(0,E.jsx)(j.Z,{children:"TIPO DE MOVIMIENTO"}),(0,E.jsxs)(j.Z,{children:["M\xc9TODO"," "]}),(0,E.jsx)(j.Z,{align:"right",children:"MONTO"}),(0,E.jsx)(j.Z,{align:"right",children:"SALDO"})]})}),(0,E.jsx)(R,{children:t.map(function(e,t){return(0,E.jsxs)(P.Z,{children:[(0,E.jsx)(j.Z,{children:e.operation}),(0,E.jsx)(j.Z,{children:e.operation_dateFormat}),(0,E.jsx)(j.Z,{children:e.type_nameTranslate}),(0,E.jsx)(j.Z,{children:e.method_nameTranslate}),(0,E.jsx)(j.Z,{align:"right",className:y()({negative:e.amount<0}),children:e.amountCurrency}),(0,E.jsx)(j.Z,{align:"right",children:e.balanceCurrency})]},e.operation+e.operation_date+t)})})]})})})},D=v.default.div.withConfig({displayName:"Table__StyledScrollContainer",componentId:"sc-qirl5t-0"})(["flex:1;overflow:auto;min-width:max-content;"]),M=(0,v.default)(w.Z).withConfig({displayName:"Table__TableHeadS",componentId:"sc-qirl5t-1"})([".MuiTableCell-root{color:",";background:",';font-family:"Rubik";border-bottom:1px solid ',";padding:8px 1rem;font-weight:500;white-space:nowrap;font-size:0.8rem;}"],function(e){return e.theme.contrastText},function(e){return C()(e.theme.contrastText,.04)},function(e){return C()(e.theme.contrastText,.2)}),R=(0,v.default)(S.Z).withConfig({displayName:"Table__TableBodyS",componentId:"sc-qirl5t-2"})(['.MuiTableCell-root{font-family:"Rubik";border-bottom:1px solid ',';padding:8px 1rem;font-weight:400;white-space:nowrap;color:#6e6e73;font-feature-settings:"tnum";&.negative{color:',";}}"],function(e){return C()(e.theme.contrastText,.2)},function(e){return e.theme.primary}),Z=function(e){var t=e.viewMode,n=e.data;return(0,E.jsx)(U,{children:"table"===t?(0,E.jsx)(I,{data:n}):(0,E.jsx)(O,{data:n})})},U=v.default.div.withConfig({displayName:"DataDisplayManager__Css",componentId:"sc-k9p5is-0"})(["overflow:auto;width:100%;"]),k=n(94566),L=n(3841),H=function(e,t){switch(e){case"Go to page":L.f.push({event:"atm.event",eventName:"recarga_historial_de_saldo",option:"pagina ".concat(t),action:"click"});break;case"Go to next page":L.f.push({event:"atm.event",eventName:"recarga_historial_de_saldo",option:"siguiente",action:"click"});break;case"Go to previous page":L.f.push({event:"atm.event",eventName:"recarga_historial_de_saldo",option:"atras",action:"click"})}};(s=i||(i={})).WINNING="WINNING",s.WAGER="WAGER",s.DEPOSIT="DEPOSIT",s.PAYOUT="PAYOUT",(d=a||(a={})).NIUBIZ="NIUBIZ",d.PROMETEO="PROMETEO",d.ASTROPAY="ASTROPAY",d.KUSHKI="KUSHKI",d.KUSHKI_TRANSFER_IN="KUSHKI_TRANSFER_IN",d.CASH_DEPOSIT_CASH="CASH_DEPOSIT_CASH",d.CASH="CASH",d.NUVEI="NUVEI",d.KASHIO="KASHIO",d.MONNET="MONNET",d.PAGOEFECTIVO="PAGOEFECTIVO",d.PAGOEFECTIVOQR="PAGOEFECTIVOQR",d.ATPAYMENTTELESERVICIOS="ATPAYMENTTELESERVICIOS",d.SAFETYPAY="SAFETYPAY",d.BANK_PAYOUT="BANK_PAYOUT",d.NIUBIZ_PAYOUT="NIUBIZ_PAYOUT",d.ATPAYMENTSERVICE_PAYOUT="ATPAYMENTSERVICE_PAYOUT",(c=o||(o={})).Atp="ATP",(u=r||(r={})).Pen="PEN",(p=l||(l={})).PROCESSED="PROCESSED",p.SUCCESS="SUCCESS",p.DENIED="DENIED",p.CANCELLED="CANCELLED",p.NEW="NEW",p.ACCEPTED="ACCEPTED";var Y=[{value:"LAST-MOUNTH",descripcion:"\xdaltimos 30 d\xedas",filter:"op_date_init"},{value:"ALL",descripcion:"Todos",filter:"all"}].concat([{value:"DEPOSIT",descripcion:"Dep\xf3sito",filter:"type"},{value:"PAYOUT",descripcion:"Retiro",filter:"type"},{value:"REDEEM",descripcion:"Conversion Bono",filter:"type"},{value:"WAGER",descripcion:"Apuesta",filter:"type"},{value:"ROLLBACK",descripcion:"Rollback",filter:"type"},{value:"WINNING",descripcion:"Premio",filter:"type"}],[{value:a.NIUBIZ_PAYOUT,descripcion:"Niubiz",filter:"method",advanced:!0},{value:a.BANK_PAYOUT,descripcion:"Bank Transfer",filter:"method",advanced:!0},{value:a.ATPAYMENTTELESERVICIOS,descripcion:"Servicios Pago Apuesta Total",filter:"method",advanced:!0},{value:a.ATPAYMENTSERVICE_PAYOUT,descripcion:"Tienda AT",filter:"method",advanced:!0},{value:a.ATPAYMENTTELESERVICIOS,descripcion:"Apuesta Total Teleservicios",filter:"method",advanced:!0}]),F=n(50029),G=n(87794),V=n.n(G),B=n(67294),K=function(e){var t,n=e.sizePerPage,i=e.total,a=(0,B.useState)(1),o=a[0],r=a[1],l=(0,B.useState)(!1),s=l[0],d=l[1],c=(t=(0,F.Z)(V().mark(function e(t,n){return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),r(n),e.next=4,(0,m.g)(200);case 4:d(!1);case 5:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});return{init:(o-1)*n,end:o*n,count:Math.ceil(i/n),page:o,updatePage:c,isUpdatePage:s}},Q=n(85806),W=n(82771),q=n(55378),z=n(32912);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $=function(e){var t=e.sizePerPage,n=void 0===t?"13":t,i=Q.T.getPeruTime(),a=new Date(new Date().setDate(i.getDate()-30)).setHours(0,0,0),o=(0,z.Z)(a,"yyyy-MM-dd'T'HH:mm"),r=(0,q.CG)(W.is),l={amount:"",operation:"",type:"",op_date_init:o,op_date_end:"",init:"0",end:n,status:"",session:r,method:""},s=(0,B.useState)(l),d=s[0],c=s[1];(0,B.useEffect)(function(){r&&c(X(X({},d),{},{session:r}))},[r]);var u=function(e){c(X(X({},d),e))},p=function(e){c(X(X(X({},d),e),{},{op_date_init:o}))};return{query:d,sizePerPage:n,updateQuery:u,updateQueryWithLastMonth:p,resetQueryLastMonth:function(){c(l)},resetQueryAllRows:function(){c(X(X({},l),{},{op_date_init:"2021-01-01 00:00:00"}))},session:r,lastMonth:o}},ee=n(98353),et=n(36844),en=n(24705),ei=n(34853),ea=function(e){var t=e.amount/100,n=e.previous_amount/100,i=null;return i=t>0?t+n:Math.abs(Math.abs(t)-n),{balanceCurrency:(0,ee.fO)(i),balance:i}},eo=function(e){var t;return null!==(t=({PAGOEFECTIVO:"PagoEfectivo",PAGOEFECTIVOQR:"PagoEfectivoQR"})[null==e?void 0:e.method])&&void 0!==t?t:null==e?void 0:e.method_name},er=function(e){var t=(null==e?void 0:e.amount)/100;if("PAYOUT"!==e.type)return null==e?void 0:e.type;if("ACCEPTED"===e.status)return"Solicitud Retiro Aceptada";if("DENIED"===e.status)return t>0?"Solicitud Retiro Denegada":"Solicitud Retiro";if("PROCESSED"===e.status)return"Pagado";if("CANCELLED"===e.status)return t>0?"Solicitud Retiro Cancelado":"Solicitud Retiro";else if((null==e?void 0:e.status)==="NEW")return"Nueva Solicitud";else return null==e?void 0:e.type},el=function(e){if(null!=e&&e.machine)return(null==e?void 0:e.machine_name)==="Altenar SportsBetting"?"Apuesta Deportivas":null==e?void 0:e.machine_name},es=en.ll.injectEndpoints({endpoints:function(e){return{getBalanceHistory:e.query({query:function(e){var t=e.op_date_init,n=e.op_date_end,i=e.init,a=e.end,o=e.status,r=e.operation,l=e.amount,s=e.session,d=e.method,c=e.type;return s?{url:"data/getOperationsHistory",method:"POST",body:new URLSearchParams({company:"ATP",session:s,filter:JSON.stringify({op_date_init:t,op_date_end:n,operation:r,type:c,amount:l,status:o,method:d}),limits:JSON.stringify({init:i,end:a})})}:null},transformResponse:function(e,t,n){var i,a=e,o=[];return(null==a?void 0:a.result)==="OK"&&null!=a&&a.data&&(null==a||null===(i=a.data)||void 0===i||i.forEach(function(e){var t,n;e.balance=null===(t=ea(e))||void 0===t?void 0:t.balance,e.balanceCurrency=null===(n=ea(e))||void 0===n?void 0:n.balanceCurrency,e.amountCurrency=(0,ee.Aq)(null==e?void 0:e.amount),e.operation_dateFormat=(0,et.fG)(e.operation_date),e.method_nameTranslate="".concat(ei.ZP.t(el(e))," ").concat(ei.ZP.t(eo(e))),e.type_nameTranslate=ei.ZP.t(er(e)),o.push(e)})),a.data=o,a},keepUnusedDataFor:60,providesTags:function(e){return["getBalanceHistory"]}})}}}).useGetBalanceHistoryQuery,ed=n(64840),ec=n(76642),eu=n(6952),ep=n(75883),ef=n(96486);function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(t){(0,f.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ev=function(){var e,t,n=(0,h.Z)(g.q.min_width.tabletL),i=(0,h.Z)(g.q.min_width.mobileM),a=(0,h.Z)(g.q.min_width.desktopS),o=(0,B.useState)(null),r=o[0],l=o[1],s=$({sizePerPage:"13"}),d=s.query,c=s.sizePerPage,u=s.updateQuery,p=s.resetQueryLastMonth,v=s.resetQueryAllRows,x=s.session,y=s.updateQueryWithLastMonth,O=es(d,{skip:!x}),_=O.data,T=O.isLoading,b=O.refetch,N=O.isFetching,P=null!==(e=null==_?void 0:_.data)&&void 0!==e?e:[],j=null!==(t=null==_?void 0:_.total)&&void 0!==t?t:0,w=K({sizePerPage:c,total:j}),S=w.count,A=w.end,C=w.init,I=w.page,D=w.updatePage,M=w.isUpdatePage;(0,B.useEffect)(function(){M&&(u(eh(eh({},d),{},{end:String(A),init:String(C)})),(0,m.g)(200).then(function(){document.documentElement.scrollIntoView({inline:"start",block:"start",behavior:"smooth"})}))},[M]);var R,U,L=function(e){if((0,ef.isObject)(e))"CUSTOM_FILTER"===e.value&&(u(eh(eh({},d),{},{type:e.obj.type,method:e.obj.method,op_date_init:e.obj.dateObj.init,op_date_end:e.obj.dateObj.end,operation:e.obj.operation})),l(null));else{var t=Y.find(function(t){return t.value===e});switch(l(t),t.filter){case"op_date_init":"LAST-MOUNTH"===t.value&&p();break;case"all":v();break;default:y(eh(eh({},d),{},(0,f.Z)({},t.filter,t.value)))}}};return(0,E.jsxs)(eO,{children:[(0,E.jsx)(k.A,{onActivateFilter:L,items:Y}),(0,E.jsxs)(ey,{children:[(0,E.jsx)(eu.t,{loading:T||N,refetch:b,delayMS:1e3}),(U=(0,E.jsxs)("p",{children:[(0,E.jsx)("span",{children:j})," resultados"]}),r&&!["ALL","LAST-MOUNTH"].includes(r.value)&&(U=(0,E.jsxs)("p",{children:[(0,E.jsx)("span",{children:j})," resultados ",(0,E.jsx)("span",{className:"last30",children:"de los ultimos 30 dias"})]})),(0,E.jsx)(eg,{children:U}))]}),P.length>0?(0,E.jsx)(ex,{children:(0,E.jsx)(Z,{data:P,viewMode:a?"table":"cards"})}):T||N?(0,E.jsx)(ec.g,{loading:T||N,color:"primary",width:"50px",height:"50px"}):(0,E.jsx)(ep.Z,{}),(0,E.jsx)(eE,{children:(0,E.jsx)(ed.Z,{count:S,onChange:function(e,t){D(e,t);var n=null==e?void 0:e.currentTarget,i=null==n?void 0:n.ariaLabel,a=(null==i?void 0:i.indexOf("page"))+4;H(null==i?void 0:i.slice(0,a),t)},page:I,shape:"rounded",variant:"text",boundaryCount:n?2:1,siblingCount:n?2:i?1:0})})]})},eg=v.default.div.withConfig({displayName:"historial-saldo__StyledTotalResult",componentId:"sc-1l8f960-0"})(["> p{color:",';font-feature-settings:"tnum";max-width:200px;text-align:right;padding:14px 0px;span{font-weight:500;&.last30{white-space:nowrap;font-weight:400;}}}'],function(e){return e.theme.alternate11}),ex=v.default.div.withConfig({displayName:"historial-saldo__ContentCss",componentId:"sc-1l8f960-1"})(["&{display:flex;flex:1;flex-direction:column;padding:0;gap:1rem;width:100%;}"]),ey=v.default.div.withConfig({displayName:"historial-saldo__StyledWrapperTop",componentId:"sc-1l8f960-2"})(["display:flex;padding:0 14px;align-items:center;justify-content:space-between;"]),eE=v.default.div.withConfig({displayName:"historial-saldo__StyledWrapperPagination",componentId:"sc-1l8f960-3"})(['padding:1rem 1rem;display:flex;flex-direction:column;gap:1rem;> nav{display:flex;justify-content:center;> ul{margin:auto;> li button[aria-current="true"]{color:',";background:",';}> li button[aria-current="true"]:hover{color:',";background:",";}}}"],function(e){return e.theme.background},function(e){return e.theme.primary},function(e){return e.theme.shadow},function(e){return C()(e.theme.shadow,.04)}),eO=v.default.div.withConfig({displayName:"historial-saldo__HistorySalesS",componentId:"sc-1l8f960-4"})(["&{display:flex;flex:1;flex-direction:column;}"]);v.default.div.withConfig({displayName:"historial-saldo__ContentMainS",componentId:"sc-1l8f960-5"})(["&{display:flex;flex:1;flex-direction:column;padding:0;gap:1rem;width:100%;}"])},13134:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/historial-saldo",function(){return n(29918)}])}},function(e){e.O(0,[3662,1465,2912,4002,5095,2103,4276,7139,5663,1850,9774,2888,179],function(){return e(e.s=13134)}),_N_E=e.O()}]);