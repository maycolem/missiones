(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7891],{90481:function(e,t,r){"use strict";r.d(t,{p:function(){return F}});var n=r(59499),a=r(50029),i=r(87794),o=r.n(i),s=r(73403),c=r(85260),u=r(42162),l=r(42447),d=r(87979),p=r(73710),f=r.n(p),m=r(67294),h=r(41248),g=r(53918),x=r(16835),v=r(11942),b=function(){var e,t=(0,v.Yh)(),r=(0,x.Z)(t,2),n=r[0],a=r[1];return{uploadFile:n,loading:a.isLoading,error:a.isError}},y=/image\/(jpeg|jpg|png)/,j=function(){var e=(0,h.I0)(),t=(0,m.useCallback)(function(t){e((0,l.zp)({message:t,severity:"error",open:!0,autoHideDuration:5e3}))},[e]);return(0,m.useCallback)(function(e){return e.length>2?(t("Solo se permiten dos im\xe1genes"),!1):Array.from(e).every(function(e){return y.test(e.type)?!(e.size>2e6)||(t("El archivo es demasiado grande,$$ el tama\xf1o m\xe1ximo permitido es de 2 MB"),!1):(t("Formato de archivo no permitido,$$ solo se aceptan .jpg, .jpeg y .png"),!1)})},[t])},w=r(94184),k=r.n(w),_=r(89583),E=r(85893),N=function(e){var t=e.preview,r=e.fileStatuses,n=e.isError;return(0,E.jsx)(O,{children:t.map(function(e,t){return(0,E.jsxs)("div",{className:"wrapper",children:[(0,E.jsx)("img",{src:e.url,alt:e.name}),(0,E.jsxs)("p",{children:[e.name.length>15?"".concat(e.name.slice(0,15),"..."):e.name,(0,E.jsx)(_.wO,{className:k()({success:r[t].success,error:n})})]})]},"preview-".concat(t))})})},O=g.default.div.withConfig({displayName:"PreviewFiles__PreviewCss",componentId:"sc-1lyp4b0-0"})(["display:flex;flex-direction:row;gap:1rem;align-items:center;justify-content:center;flex-wrap:wrap;.wrapper{display:flex;flex-direction:column;align-items:center;gap:0.5rem;img{height:180px;object-fit:cover;border-radius:0.5rem;}p{display:flex;flex-direction:row;gap:0.5rem;align-items:center;justify-content:center;font-size:0.8rem;color:",";svg{font-size:clamp(1rem,2vw,1.2rem);color:",";&.success{color:",";}&.error{color:",";}}}}"],function(e){return f()(e.theme.contrastText,.5)},function(e){return f()(e.theme.contrastText,.5)},function(e){return e.theme.success},function(e){return e.theme.error}),P=r(6767),C=r.n(P),I=function(e){var t=e.handleButtonClick,r=e.handleFileChange,n=e.fileInputRef;return(0,E.jsxs)(D,{children:[(0,E.jsx)("label",{className:"file-upload",children:"Agregar aqu\xed la imagen de tu documento de identidad, Puedes subir una o hasta dos im\xe1genes (ambos lados)."}),(0,E.jsx)("input",{hidden:!0,multiple:!0,type:"file",id:"file-upload",name:"file-upload",ref:n,accept:"image/png, image/jpeg, image/jpg",onChange:r}),(0,E.jsx)(d.z,{variant:"outline",onClick:t,children:"Subir imagen"})]})},D=g.default.div.withConfig({displayName:"UploadContainer__UploadContainerCss",componentId:"sc-whxngw-0"})(["display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;.file-upload{padding:1rem;border-radius:0.5rem;width:100%;text-align:center;color:",";}button{padding:0.5rem 2rem;&:hover{background:",";}&:active{background:",";}&:focus-visible{outline:thin auto ",";}}"],function(e){return C()(e.theme.contrastText).alpha(.4).string()},function(e){return C()(e.theme.primary).alpha(.05).string()},function(e){return C()(e.theme.primary).alpha(.1).string()},function(e){return e.theme.primary});function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var F=function(e){var t,r=e.refetch,n=(0,m.useRef)(null),i=(0,m.useState)([]),p=i[0],f=i[1],g=(0,m.useState)([]),x=g[0],v=g[1],y=(0,m.useState)([]),w=y[0],k=y[1],_=(0,h.I0)(),O=(0,u.Z)().session,P=b(),C=P.uploadFile,D=P.loading,S=P.error,F=j(),R=(0,m.useState)(!1),U=R[0],A=R[1],V=function(){n.current.click()},L=function(e){var t=e.target.files;t&&F(t)&&(f(Array.from(t)),v(Array.from(t).map(function(e){return{url:URL.createObjectURL(e),name:e.name}})),k(Array.from(t).map(function(){return{loading:!1,success:!1}})))},Z=function(){v([]),f([]),k([])},H=(t=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),!(p.length>0&&p.length<=2)){e.next=9;break}t=o().mark(function e(t){var n,a,i,u;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(function(e){return e.map(function(e,r){return r===t?z(z({},e),{},{loading:!0}):e})}),(n=new FormData).append("myFile",p[t]),n.append("session",O),n.append("company",s.j1),n.append("type","IDENTITY"),e.prev=6,e.next=9,C(n).unwrap();case 9:if("OK"!==(a=e.sent).result){e.next=20;break}return _((0,l.zp)({message:"Archivo cargado con \xe9xito!",severity:"success",open:!0,autoHideDuration:5e3})),k(function(e){return e.map(function(e,r){return r===t?{loading:!1,success:!0}:e})}),e.next=15,(0,c.g)(3e3);case 15:v([]),r(),A(!1),e.next=21;break;case 20:"error"===a.result&&"object"==typeof a&&(u="Lo sentimos, hubo un problema al subir tu archivo. Por favor, verifica el tipo de archivo e int\xe9ntalo de nuevo.",(i=a).code&&-71===i.code&&(u="Parece que el archivo no se ha podido cargar correctamente. Por favor, revisa el archivo y vuelve a intentar."),v([]),_((0,l.zp)({message:u,severity:"error",open:!0,autoHideDuration:5e3})),k(function(e){return e.map(function(e,r){return r===t?z(z({},e),{},{loading:!1,success:!1,error:u}):e})}),A(!1));case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),k(function(e){return e.map(function(e,r){return r===t?{loading:!1,success:!1}:e})}),A(!1);case 27:case"end":return e.stop()}},e,null,[[6,23]])}),n=0;case 4:if(!(n<p.length)){e.next=9;break}return e.delegateYield(t(n),"t0",6);case 6:n++,e.next=4;break;case 9:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,E.jsx)(q,{children:x.length>0?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N,{preview:x,fileStatuses:w,isError:S}),(0,E.jsxs)(T,{children:[(0,E.jsx)(d.z,{variant:"outline",onClick:Z,disabled:D||U,children:"Eliminar"}),(0,E.jsx)(d.z,{variant:"contained",type:"submit",onClick:H,loading:D||U,children:"Enviar Solicitud"})]})]}):(0,E.jsx)(I,{handleButtonClick:V,handleFileChange:L,fileInputRef:n})})},q=g.default.div.withConfig({displayName:"FileUpload__FileUploadCss",componentId:"sc-1h4bdg9-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:space-around;gap:1rem;padding:1rem;margin:1rem;min-height:40vh;background:",";border:thin dashed ",";;border-radius:0.5rem;"],function(e){return e.theme.background},function(e){return f()(e.theme.contrastText,.4)}),T=g.default.div.withConfig({displayName:"FileUpload__ContentButtonCss",componentId:"sc-1h4bdg9-1"})(["width:100%;display:flex;flex-direction:row;gap:1rem;align-items:center;justify-content:center;> button{width:100%;max-width:200px;padding:calc(0.7vmax + 0.1rem) calc(1vw + 0.5rem);&:focus-visible{outline:thin solid ",";}}"],function(e){return e.theme.primary})},43714:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(6767),a=r.n(n),i=r(98787),o=r(73710),s=r.n(o);r(67294);var c=r(53918),u=r(85893),l=function(e){var t=e.children,r=e.severity;return(0,u.jsx)(d,{severity:r,children:t})},d=(0,c.default)(i.b).withConfig({displayName:"VerificationAlert__AlertCss",componentId:"sc-1xxykq9-0"})(["margin:1rem;background:",";border:thin solid ",";color:",";.warning{color:",";font-weight:600;}.text__paragrah{color:",";line-height:1.5;}.simple___alert{color:",";background:",";border:thin solid ",";}"],function(e){return"error"===e.severity||"info"===e.severity?e.theme.background:e.theme.alternate12},function(e){return s()(e.theme.contrastText,.2)},function(e){return a()(e.theme.status.dark).alpha(.55)},function(e){return e.theme.primary},function(e){return s()(e.theme.contrastText,.5)},function(e){return a()(e.theme.status.dark).alpha(.55)},function(e){return e.theme.alternate12},function(e){return e.theme.alternate20})},90442:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var n=r(11942),a=function(e){var t,r=e.session,a=e.verified,i=(0,n.JO)({session:r},{skip:!r||Boolean(a)}),o=i.data;return{data:o,loading:i.isLoading,refetch:i.refetch}}},11942:function(e,t,r){"use strict";r.d(t,{JO:function(){return i},Yh:function(){return a}});var n=r(24705).ll.injectEndpoints({endpoints:function(e){return{uploadFile:e.mutation({query:function(e){return{url:"data/uploadFile",method:"POST",body:e}}}),getUserFilesV2:e.query({query:function(e){var t=e.session;return"data/getUserFiles?session=".concat(t)},transformResponse:function(e){return e.files.map(function(e){return{fileId:e.file,status:e.status}})}})}},overrideExisting:!0}),a=n.useUploadFileMutation,i=n.useGetUserFilesV2Query},45361:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var n=r(50029),a=r(87794),i=r.n(a),o=r(11163),s=r(67294),c=r(53918),u=r(8621),l=r(42162),d=r(90481),p=r(59499),f=r(94184),m=r.n(f),h=r(6767),g=r.n(h),x=r(89583),v=[{label:"Iniciada",keys:[]},{label:"En proceso",keys:["REVISING","PENDING"]},{label:"Verificado",keys:["EXPIRED","DENIED","APPROVED"]}],b=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,p.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w=function(e){var t=e.status,r=(0,s.useState)(!1),n=r[0],a=r[1],i=(0,s.useState)(v),o=i[0],c=i[1];(0,s.useEffect)(function(){"DENIED"===t?(a(!0),c(function(e){return e.map(function(e){return"Verificado"===e.label?j(j({},e),{},{label:"Verificaci\xf3n rechazada",keys:["EXPIRED","DENIED"]}):e})})):(a(!1),c(v))},[t]);var u=function(e){var r=e.findIndex(function(e){return e.keys.includes(t)});return r<1?0:r};return(0,b.jsx)(k,{children:(0,b.jsx)(_,{children:o.map(function(e,t){return(0,b.jsxs)(E,{children:[(0,b.jsx)(N,{className:m()({active:u(o)===t,error:n,completed:u(o)>t,"completed-error":u(o)>t&&n}),children:u(o)>t?(0,b.jsx)(x.l_A,{}):(0,b.jsx)("span",{children:t+1})}),(0,b.jsx)(O,{className:m()({active:u(o)===t?1:0,error:n,completed:u(o)>t}),children:(0,b.jsx)("p",{children:e.label})})]},"step-".concat(t))})})})},k=c.default.div.withConfig({displayName:"ProgressStepper__StatusProgressCss",componentId:"sc-1jsmig9-0"})(["padding:1rem;"]),_=c.default.div.withConfig({displayName:"ProgressStepper__Stepper",componentId:"sc-1jsmig9-1"})(["display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;position:relative;background:",";border-radius:0.8rem;padding:clamp(1rem,3vw,1.5rem);z-index:1;border:1px solid ",";box-shadow:0 2px 4px rgba(0,0,0,0.1);"],function(e){return e.theme.background},function(e){return g()(e.theme.contrastText).alpha(.1)}),E=c.default.div.withConfig({displayName:"ProgressStepper__StepContainer",componentId:"sc-1jsmig9-2"})(['display:flex;flex-direction:column;align-items:center;position:relative;flex:1;&::before{content:"";position:absolute;top:15px;left:0;right:calc(50% + 15px + .5rem);height:1px;background:',';z-index:0;}&::after{content:"";position:absolute;top:15px;left:calc(50% + 15px + .5rem);right:0;height:1px;background:',";z-index:0;}&:first-child::before,&:last-child::after{display:none;}"],function(e){return g()(e.theme.contrastText).alpha(.1)},function(e){return g()(e.theme.contrastText).alpha(.1)}),N=c.default.div.withConfig({displayName:"ProgressStepper__StepIndicator",componentId:"sc-1jsmig9-3"})(["display:flex;align-items:center;justify-content:center;width:clamp(30px,3vw,35px);height:clamp(30px,3vw,35px);border-radius:50%;background-color:",";color:",";z-index:1;font-size:1rem;&.active{background-color:",";font-weight:600;}&.error{background-color:",";}&.completed{background-color:",";font-weight:500;}&.completed-error{background-color:",";}svg{font-size:1rem;}"],function(e){return g()(e.theme.status.dark).alpha(.4)},function(e){return e.theme.background},function(e){return e.theme.status.success},function(e){return e.theme.status.error},function(e){return e.theme.status.success},function(e){return g()(e.theme.status.dark).alpha(.2)}),O=c.default.div.withConfig({displayName:"ProgressStepper__StepLabel",componentId:"sc-1jsmig9-4"})(["margin-top:8px;text-align:center;> p{font-size:clamp(0.8rem,3vw,1rem);color:",";word-break:break-word;}&.active{> p{color:",";font-weight:600;}}&.error{> p{color:",";}}&.completed{> p{color:",";font-weight:500;}}"],function(e){return g()(e.theme.status.dark).alpha(.4)},function(e){return g()(e.theme.status.dark).alpha(.9)},function(e){return g()(e.theme.status.error).darken(.1)},function(e){return g()(e.theme.status.dark).alpha(.3)}),P=r(43714),C=r(90442),I=r(84225),D=function(){var e,t=(0,s.useState)(""),r=t[0],a=t[1],c=(0,l.Z)(),p=c.session,f=c.verified,m=(0,o.useRouter)(),h=(0,C.i)({session:p,verified:f}),g=h.data,x=h.loading,v=h.refetch;(0,s.useEffect)(function(){var e;f&&y(),a(null==g?void 0:null===(e=g[0])||void 0===e?void 0:e.status)},[f,g]);var y=(e=(0,n.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.push({pathname:u.H["/"].url});case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,b.jsxs)(S,{children:["DENIED"===r?(0,b.jsx)(P.q,{severity:"error",children:(0,b.jsxs)("p",{className:"text__paragrah",children:["Hola, te recordamos que tu ",(0,b.jsx)("span",{className:"warning",children:"documento ha sido rechazado"}),". \xdanicamente las cuentas verificadas pueden retirar sus ganancias. Verificamos las cuentas para asegurarnos que seas t\xfa el titular de la misma."]})}):(0,b.jsx)(P.q,{severity:"info",children:(0,b.jsxs)("p",{className:"text__paragrah",children:["Hola, te recordamos que tu cuenta a\xfan ",(0,b.jsx)("span",{className:"warning",children:"no ha sido verificada"}),". \xdanicamente las cuentas verificadas pueden retirar sus ganancias. Verificamos las cuentas para asegurarnos que seas t\xfa el titular de la misma."]})}),(0,b.jsxs)("div",{className:"state-wrapper",children:[x?(0,b.jsx)(F,{}):(0,b.jsx)(w,{status:r}),"PENDING"===r&&(0,b.jsx)(P.q,{className:"simple___alert",children:(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"warning",children:"La imagen enviada se encuentra en evaluaci\xf3n"}),", En un plazo no mayor a 24 horas tu cuenta ser\xe1 verificada. En caso de haber alguna observaci\xf3n, te enviaremos un correo con nuestros comentarios."]})}),"DENIED"===r&&(0,b.jsx)(P.q,{className:"simple___alert",children:(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"warning",children:"La imagen enviada no fue aceptada."})," Para poder verificar tu cuenta te recomendamos subir una foto n\xedtida de tu documento de identidad original. Peso m\xe1ximo 2 Mb, formatos aceptados jpg y png. No aceptamos documentos escaneados ni fotocopias."]})})]}),"DENIED"===r&&(0,b.jsx)(d.p,{refetch:v})]})},S=c.default.div.withConfig({displayName:"estado__EstadoCss",componentId:"sc-1yheuig-0"})(["display:flex;flex-direction:column;background:",";padding:0;gap:.1rem;flex:1;","{padding:1rem;}"],function(e){return e.theme.alternate12},I.q.min_width.tabletS),z=(0,c.keyframes)(["0%{opacity:1;}50%{opacity:0.4;}100%{opacity:1;}"]),F=c.default.div.withConfig({displayName:"estado__SkeletonProgress",componentId:"sc-1yheuig-1"})(["margin:1rem;width:auto;height:100px;border-radius:10px;background-color:#d7d7d7;animation:"," 1.5s ease-in-out infinite;"],z)},96785:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/verificar/estado",function(){return r(45361)}])}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=96785)}),_N_E=e.O()}]);