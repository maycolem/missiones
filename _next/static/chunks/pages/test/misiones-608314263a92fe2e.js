(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8722],{86010:function(t,n,e){"use strict";function r(t){var n,e,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(e=r(t[n]))&&(o&&(o+=" "),o+=e);else for(n in t)t[n]&&(o&&(o+=" "),o+=n)}return o}n.Z=function(){for(var t,n,e=0,o="";e<arguments.length;)(t=arguments[e++])&&(n=r(t))&&(o&&(o+=" "),o+=n);return o}},44567:function(t,n,e){"use strict";e.r(n);var r=e(50029),o=e(4730),i=e(87794),s=e.n(i),a=e(73403),u=e(36772),c=e(9669),l=e.n(c),f=e(98787),d=e(87979),p=e(20377),y=e(67294),b=e(32610),v=e(85893),m=["availables_missions","oldMissions"],h=function(){var t,n,e,i=(0,u.Z)(),c=i.session,h=i.user,g=i.isAuth,j=(0,y.useState)(),x=j[0],_=j[1],S=(0,y.useState)(),w=S[0],A=S[1],O=null!=w?w:{},T=O.availables_missions,k=O.oldMissions,P=(0,o.Z)(O,m),M=(t=(0,r.Z)(s().mark(function t(){var n,e,r,o,i=arguments;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=i.length>0&&void 0!==i[0]?i[0]:void 0)){t.next=8;break}return t.next=4,l().get("".concat(a.ns.dataURL,"/getUserMissions?company=ATP&session=").concat(n));case 4:A(null==(e=t.sent)?void 0:e.data),t.next=12;break;case 8:return t.next=10,l().get("".concat(a.ns.contentsURL,"/getMissions?company=ATP&currency=PEN"));case 10:_(null==(o=t.sent)?void 0:null===(r=o.data)||void 0===r?void 0:r.missions);case 12:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),E=(n=(0,r.Z)(s().mark(function t(n){var e,r,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.mission,r=n.session,t.next=3,l().get("".concat(a.ns.dataURL,"/enrollUserMission?company=ATP&session=").concat(r,"&mission=").concat(e));case 3:(i=null==(o=t.sent)?void 0:o.data)&&(null==i?void 0:i.result)==="OK"?(0,p.yv)(null==i?void 0:i.result,{variant:"success"}):(0,p.yv)(null==i?void 0:i.result,{variant:"error"});case 6:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}),C=(e=(0,r.Z)(s().mark(function t(n){var e,r,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.session,r=n.mission,t.next=3,l().get("".concat(a.ns.dataURL,"/cancelUserMission?company=ATP&session=").concat(e,"&mission=").concat(r));case 3:(i=null==(o=t.sent)?void 0:o.data)&&(null==i?void 0:i.result)==="OK"?(0,p.yv)(null==i?void 0:i.result,{variant:"success"}):(0,p.yv)(null==i?void 0:i.result,{variant:"error"});case 6:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)});(0,y.useEffect)(function(){g?M(c):M()},[g]);var R=function(t){var n=t.mission;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.b,{json:n}),(0,v.jsx)(d.z,{color:"primary",fullWidth:!0,onClick:function(){return E({session:c,mission:n.mission})},children:"Unirte"}),(0,v.jsx)(d.z,{color:"dark",fullWidth:!0,onClick:function(){return C({session:c,mission:n.mission})},children:"Cancelar"})]})};return(0,v.jsxs)("div",{children:[(0,v.jsx)(p.wT,{anchorOrigin:{vertical:"bottom",horizontal:"center"}}),(0,v.jsx)(f.b,{severity:g?"success":"error",children:(0,v.jsxs)("h1",{children:["Usuario : ",g?null==h?void 0:h.firstName:"No login"]})}),(0,v.jsx)("br",{}),w?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.b,{json:P}),(0,v.jsxs)(f.b,{severity:"info",children:["Misiones Disponibles : ",T.length]}),null==T?void 0:T.map(function(t,n){return(0,v.jsx)(R,{mission:t},n)}),(0,v.jsxs)(f.b,{severity:"warning",children:["Misiones viejas : ",k.length]}),null==k?void 0:k.map(function(t,n){return(0,v.jsx)(R,{mission:t},n)})]}):(0,v.jsx)(v.Fragment,{children:x&&(null==x?void 0:x.map(function(t,n){return(0,v.jsx)(R,{mission:t},n)}))})]})};n.default=h},56121:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test/misiones",function(){return e(44567)}])},32610:function(t,n,e){"use strict";Object.defineProperty(n,"b",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e(80895),r&&r.__esModule?r:{default:r})},51100:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default={jsonTr:{height:"25px"},jsonTd:{padding:"5px",borderSpacing:"2px",borderRadius:"5px"},rowSpacer:{height:"2px"},rootElement:{padding:"5px",borderSpacing:"2px",backgroundColor:"#BBBBBB",fontWeight:"bold",fontFamily:"Arial",borderRadius:"5px"},subElement:{padding:"5px",borderSpacing:"2px",backgroundColor:"#DDDDDD",fontWeight:"bold",fontFamily:"Arial",borderRadius:"5px"},dataCell:{borderSpacing:"2px",backgroundColor:"#F1F1F1",fontFamily:"Arial",borderRadius:"5px"}}},80895:function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=s(e(67294));s(e(51100));var i=s(e(46403));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&u(t,n)}(p,t);var n,e,s,l,f,d=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=c(p);if(e){var s=c(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return t=this,n=o,n&&("object"===r(n)||"function"==typeof n)?n:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)});function p(){return!function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return l=[{key:"render",value:function(){var t=i.default.getTable(this.props.json,this.props.css,this.props.indent);return o.default.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}}],a(p.prototype,l),f&&a(p,f),p}(o.default.Component);n.default=l},46403:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(s=e(51100),s&&s.__esModule?s:{default:s});function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s,a,u,c,l,f,d,p,y,b,v,m,h,g,j,x,_,S,w,A,O,T,k,P=(u="",c=0,l="",f="&nbsp;&nbsp;",d=2,p=0,y=0,b={},v=3,m="",h="",g="",j="",x="",_="",S=function(t,n,e){if(!Number.isInteger(e)||1!==Math.sign(e))throw"The indent prop must be a positive number";if("object"!==i(n)||null===n||Array.isArray(n))throw"The css prop must be an object(but not an array)";if("object"!==i(t)||null===t||Array.isArray(t))throw"The json prop must be an object(but not an array)"},w=function(t){for(var n,e="&nbsp;",r=((function(t){if(Array.isArray(t))return o(t)})(n=Array(v))||function(t){if("undefined"!=typeof Symbol&&(Symbol.iterator in Object(t)))return Array.from(t)}(n)||function(t,n){if(t){if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(t,n){return"&nbsp;"}).join(""),i=0;i<t;i++)e+=r;return e},A=function(){return'<tr style="'+g+'"></tr>'},O=function(t){for(var n=r.default[t],e=Object.keys(n),o="",i=0;i<e.length;i++){var s,a=e[i];o+=a.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+(b[t]&&b[t][a]?b[t]:n)[a]+";"}return o},T=function(t){var n=[],e="";if(Array.isArray(t)&&0===t.length)return e;if("object"===i(t[0])){if(1===t.length)for(var r in t[0]){var o="";t[0][r]&&(o=t[0][r].toString()),e+='<tr style="'+m+'">',e+='  <td style="'+j+'">'+w(c)+r+f+"</td>",e+='  <td style="'+x+'">'+w(c)+o+f+"</td>",e+="</tr>",e+=A()}else{for(var r in e='<tr style="'+m+'">',t[0])n.push(r),e+='<td style="'+j+'">',e+=w(c)+r+f,e+="</td>";for(var r in e+="</tr>",e+=A(),t){e+='<tr style="'+m+'">';for(var s=0;s<n.length;s++)e+='<td style="'+x+'">',e+=w(c)+t[r][n[s]]+f,e+="</td>";e+="</tr>",e+=A()}}}if("string"==typeof t[0])for(var r in t)e+='<tr style="'+m+'">',e+='  <td style="'+x+'" colspan="2">',e+=w(c)+t[r]+f,e+="  </td>",e+="</tr>";return e},k=function t(n){var e=!1;for(var r in"string"==typeof n&&(n=JSON.parse(n)),p=c,n)if(void 0!==a[r]?(c=0,l=_):l=j,y=p,n.hasOwnProperty(r)){var o=n[r];if(e&&(c=y),"object"===i(o))d+=c,u+='<tr style="'+m+'">',u+='  <td style="'+l+'" colspan="3">',u+=w(c)+r+f,u+="  </td>",u+="</tr>",u+=A(),c+=1;else{var s=h+x;u+='<tr style="'+m+'">',u+='  <td style="'+l+'">',u+=w(c)+r+f,u+="  </td>",u+='  <td style="'+s+'" colspan="2">'+o+"</td>",u+="</tr>",u+=A()}o instanceof Array&&(u+=T(o),e=!0),"object"!==i(o)||o instanceof Array||(t(o),c=p-1)}},{getTable:function(t,n,e){return S(t,b=n||{},v=e||3),m=O("jsonTr"),h=O("jsonTd"),g=O("rowSpacer"),j=O("subElement"),x=O("dataCell"),_=O("rootElement"),a=t,c=0,u="<table>",k(t),u+="</table>"}});n.default=P}},function(t){t.O(0,[377,9774,2888,179],function(){return t(t.s=56121)}),_N_E=t.O()}]);