"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1051],{51051:function(e,t,n){n.d(t,{r:function(){return D}});var r=n(27812),i=n(50029),o=n(59499),a=n(87794),s=n.n(a),l=n(42162),c=n(99225),d=n(93861),u=n(20324),p=n(18990),h=n(84225),f=n(77549),m=n(94184),g=n.n(m),x=n(73710),v=n.n(x);function b(e){var t=e.scrollHeight,n=e.offsetHeight,r=e.scrollTop;return n>t?0:100-Math.round(r/(t-n)*100)}var w=n(41664),y=n.n(w),j=n(67294),k=n(53918),C=n(16835),S=n(88123),N=n(24697),_=n(85893),z=function(e){var t=e.onClose,n=e.value,r=(0,j.useRef)(null),i=(0,j.useState)(""),o=i[0],a=i[1],s=(0,N.Nr)(o,800),l=(0,C.Z)(s,1)[0];(0,j.useEffect)(function(){r.current.focus()},[]);var c=function(e){a(e.target.value)};(0,j.useEffect)(function(){n(l)},[l]);var d=function(){return r.current.focus()};return(0,_.jsxs)(O,{children:[(0,_.jsx)("div",{onClick:d,children:(0,_.jsx)("img",{src:S.Z.src,alt:"magnifying glass"})}),(0,_.jsx)("div",{onClick:d,children:(0,_.jsx)("form",{onSubmit:function(e){e.preventDefault()},autoComplete:"none",children:(0,_.jsx)("input",{type:"text",ref:r,value:o,onChange:c,autoComplete:"none",placeholder:"Escribe el nombre del juego o proveedor"})})}),(0,_.jsx)("div",{onClick:t,children:"Cerrar"})]})},O=k.default.div.withConfig({displayName:"Searchv2Input__InputStyled",componentId:"sc-fxghd0-0"})(["display:grid;grid-template-columns:30px 1fr auto;> :nth-child(1){padding:7px;}> :nth-child(2){display:flex;border-bottom:1px solid black;padding:5px;> form{display:flex;flex:1;input{flex:1;background:transparent;border:0;outline:0;}}}> :nth-child(3){display:grid;place-items:center;padding:5px 10px;cursor:pointer;}"]);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(e){var t,n,o=e.onClose,a=e.typeResults,h=(0,d.F)(),f=h.lobby,m=h.pathnameGame,x=h.pathnameProvider,v=h.pathnameTag,w=(0,j.useState)(a||"games"),k=w[0],C=w[1],S=(0,j.useState)(!1),N=S[0],O=S[1],P=(0,j.useState)(0),E=P[0],Z=P[1],T=(0,j.useState)(0),D=T[0],H=T[1],M=(0,l.Z)().session,X=(0,j.useState)(""),F=X[0],J=X[1],W=q(q({},c.e),{},{lobby:f,namegame:F}),G=(0,j.useState)(W),V=G[0],Y=G[1],A=(0,u.Zc)({props:q(q({},V),{},{lobby:f}),session:M},{skip:!f}),K=A.data,Q=A.isLoading,U=A.isFetching,$=(0,j.useState)([]),ee=$[0],et=$[1],en=(0,j.useState)([]),er=en[0],ei=en[1],eo=(0,j.useState)([]),ea=eo[0],es=eo[1],el=Q||U,ec=(n=(0,i.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!(30>b(t.target))||el||N||Y(q(q({},V),{},{init:V.end+1,end:V.end+V.end}));case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),ed=(0,j.useRef)(0);(0,j.useEffect)(function(){F&&(et([]),Y(q(q({},W),{},{namegame:F})))},[F]),(0,j.useEffect)(function(){if(K){if(K.lobby.length){if(O(!1),ed.current++,1===ed.current&&(ei(null==K?void 0:K.providers),es(null==K?void 0:K.tags)),V.init===W.init){et([].concat((0,r.Z)(ee),(0,r.Z)(K.lobby)));return}et([].concat((0,r.Z)(ee),(0,r.Z)(K.lobby)))}else O(!0)}},[K]);var eu=(0,j.useMemo)(function(){if(!F)return Z(0),er.map(function(e){return{item:e,show:!0,initialized:!1}});var e=0,t=er.map(function(t){var n=t.name.replace(/\s/g,""),r=F.replace(/\s/g,"");return n.toLowerCase().includes(r.toLowerCase())?(e++,{item:t,show:!0,initialized:!0}):{item:t,show:!1,initialized:!0}});return Z(e),t},[F,er]),ep=(0,j.useMemo)(function(){if(!F)return H(0),ea.map(function(e){return{item:e,show:!0,initialized:!1}});var e=0,t=ea.map(function(t){var n=t.replace(/\s/g,""),r=F.replace(/\s/g,"");return n.toLowerCase().includes(r.toLowerCase())?(e++,{item:t,show:!0,initialized:!0}):{item:t,show:!1,initialized:!0}});return H(e),t},[F,ea]),eh=F&&(null==K?void 0:K.total_machines)||0,ef=(0,j.useMemo)(function(){var e=function(e){return g()(e,{active:k===e})},t=function(e){return g()("result",{hidden:!e})},n=function(e){return e>999?": +999":": ".concat(e)},r=function(e){var t=e?(null==e?void 0:e.toString().length)+1:0;return{"--ch":"".concat(t,"ch")}};return(0,_.jsxs)(L,{children:[(0,_.jsxs)("button",{type:"button",className:e("games"),style:r(eh),onClick:function(){C("games")},children:[(0,_.jsx)("span",{className:"text",children:"Juegos"}),(0,_.jsx)("span",{className:t(eh),children:n(eh)})]}),(0,_.jsxs)("button",{type:"button",className:e("providers"),style:r(E),onClick:function(){C("providers")},children:[(0,_.jsx)("span",{className:"text",children:"Proveedores"}),(0,_.jsx)("span",{className:t(E),children:n(E)})]}),(0,_.jsxs)("button",{type:"button",className:e("tags"),style:r(D),onClick:function(){C("tags")},children:[(0,_.jsx)("span",{className:"text",children:"Categor\xedas"}),(0,_.jsx)("span",{className:t(D),children:n(D)})]})]})},[k,E,eh,D]),em="ontouchstart"in window;return(0,_.jsxs)(B,{children:[(0,_.jsx)(z,{onClose:o,value:J}),ef,(0,_.jsx)(R,{className:g()("results",{active:"providers"===k}),children:eu.map(function(e){var t=e.item,n=e.show,r=e.initialized;return(0,_.jsx)(y(),{href:{pathname:x,query:{id:t.provider}},children:(0,_.jsx)("a",{className:g()({show:!!r&&n,initialized:r}),onClick:o,children:t.name})},t.provider)})}),(0,_.jsx)(R,{className:g()("results",{active:"tags"===k}),children:ep.map(function(e){var t=e.item,n=e.show,r=e.initialized,i=t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\s+|_/g," ");return(0,_.jsx)(y(),{href:{pathname:v,query:{id:t}},children:(0,_.jsx)("a",{className:g()({show:!!r&&n,initialized:r},"capitalize"),onClick:o,children:i})},i)})}),(0,_.jsxs)(I,{className:g()("results",{ontouchstart:em,active:"games"===k}),onScroll:ec,children:[el?"Cargando...":!(null!=K&&null!==(t=K.lobby)&&void 0!==t&&t.length)&&!(null!=ee&&ee.length)&&!el&&F&&(0,_.jsx)("div",{children:"No se encontraron juegos."}),null==ee?void 0:ee.map(function(e){var t=e.web_name,n=e.sub_provider,r=e.logo,i=e.name,o=(e.provider,e.machine);return(0,_.jsx)(y(),{href:{pathname:m,query:{provider:n,gameName:t}},children:(0,_.jsx)("a",{children:(0,_.jsxs)("div",{onClick:function(){(0,p.JV)(t,"casino")},children:[(0,_.jsx)("div",{className:"image",children:(0,_.jsx)("img",{alt:"",src:"".concat("https://www.apuestatotal.com","/").concat(r),loading:"lazy"})}),(0,_.jsxs)("div",{className:"desc",children:[(0,_.jsx)("div",{className:"name",children:i}),(0,_.jsx)("div",{className:"provider",children:n})]})]})})},o)})]})]})},Z=(0,k.css)(["",""],function(){if(!("ontouchstart"in window))return(0,k.css)(["scrollbar-gutter:stable;::-webkit-scrollbar{width:12px;}::-webkit-scrollbar-track{background-color:#e4e4e4;border-radius:100px;}::-webkit-scrollbar-thumb{box-shadow:inset 0 0 6px rgba(0,0,0,0.3);background-color:",";border-radius:100px;border:2px solid #e4e4e4;}::-webkit-scrollbar{width:12px;}::-webkit-scrollbar-track{border-radius:100vh;background:#1f2937;background-color:#e4e4e4;background:transparent;}::-webkit-scrollbar-thumb{background:linear-gradient(#ff0000,#dc00c9,#ffc700);}"],function(e){return v()(e.theme.contrastText,.1)})}),R=k.default.div.withConfig({displayName:"Searchv2Body__ResultProvidersStyled",componentId:"sc-1pgq4bx-0"})(["display:grid;grid-template-columns:repeat(2,1fr);place-content:flex-start;gap:7px;column-gap:0;overflow-y:auto;scrollbar-width:thin;"," transition:300ms;> a{font-weight:500;padding:5px;white-space:nowrap;transition:300ms;width:100%;color:",";overflow:hidden;text-overflow:ellipsis;min-height:2rem;&:nth-child(4n + 1),&:nth-child(4n + 2){color:hsl(0,0%,7.84313725490196%);}&:hover{color:",";}&.initialized:not(.show){transform:translateY(5px);pointer-events:none;opacity:0.4;color:#adadad;}&.initialized.show{opacity:1;order:-1;color:",";font-size:1.2rem;}}","{gap:12px;grid-template-columns:repeat(3,1fr);> a{&:nth-child(4n + 1),&:nth-child(4n + 2){color:",";}&:nth-child(6n + 1),&:nth-child(6n + 2),&:nth-child(6n + 3){color:hsl(0,0%,7.84313725490196%);}&:hover{color:",";}}}"],Z,function(e){return e.theme.contrastText},function(e){return e.theme.primary},function(e){return e.theme.primary},h.q.min_width.desktopXS,function(e){return e.theme.contrastText},function(e){return e.theme.primary}),I=k.default.div.withConfig({displayName:"Searchv2Body__ResultStyled",componentId:"sc-1pgq4bx-1"})(["width:100%;overflow-y:auto;scrollbar-width:thin;display:flex;flex-direction:column;width:100%;gap:7px;font-size:0.9rem;"," ","{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:min-content;gap:12px;}> a{height:auto;display:flex;> div{width:100%;display:flex;gap:10px;> div.image{display:flex;flex:1 1 35%;border-radius:5px;overflow:hidden;--shadow-color:358deg 86% 22%;--shadow-color:0deg 5% 0%;","}> div.desc{display:flex;flex:1 1 65%;flex-direction:column;gap:3px;justify-content:center;.name{font-size:1rem;font-weight:500;}.provider{opacity:0.8;font-size:0.8rem;}}}}"],Z,h.q.min_width.desktopXS,(0,f.q)({shadowColorHSL:"0deg 5% 0%"}).medium),L=k.default.div.withConfig({displayName:"Searchv2Body__TabsStyled",componentId:"sc-1pgq4bx-2"})(['display:flex;> button{background:transparent;transition:300ms;padding:5px 10px;font-weight:500;border-bottom:2px solid transparent;position:relative;&.games,&.providers,&.tags{padding-right:var(--ch);.result{position:absolute;right:0;font-feature-settings:"tnum";}.hidden{opacity:0;}&.active{color:',";border-bottom:2px solid ",";}}}"],function(e){return e.theme.primary},function(e){return e.theme.primary}),B=k.default.div.withConfig({displayName:"Searchv2Body__Searchv2BodyStyled",componentId:"sc-1pgq4bx-3"})(["padding:14px;display:flex;flex-direction:column;gap:10px;height:100%;max-height:100%;position:relative;z-index:2;background:hsl(0,0%,100%,0.97);width:100%;"," > .results{transition:200ms;.capitalize{text-transform:capitalize;}}> .results.active{flex:1;pointer-events:all;opacity:1;padding-bottom:50px;}> .results:not(.active){flex:0;opacity:0;pointer-events:none;}","{max-width:calc(900px + 1vw);left:initial;top:initial;width:100%;height:80%;min-height:600px;padding:30px 50px;border-radius:12px;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],(0,f.q)({shadowColorHSL:"0deg 0% 20%"}).medium,h.q.min_width.desktopXS),T=n(73935),D=(0,j.forwardRef)(function(e,t){var n=e.typeResults,r=(0,j.useState)(!1),i=r[0],o=r[1],a=(0,j.useRef)(null),s=(0,j.useState)(!1),l=s[0],c=s[1];(0,j.useImperativeHandle)(t,function(){return{open:function(){o(!0)},close:function(){o(!1)},toggle:function(){o(!i)}}});var d=function(){o(!1)};return(0,j.useEffect)(function(){var e=document.body;if(i){var t=document.createElement("div");t.className="modal",a.current=t,e.appendChild(a.current);var n="".concat(window.innerWidth-e.clientWidth,"px");e.style.setProperty("padding-right",n,"important"),e.style.overflow="hidden",c(!0)}else{if(!(null!=a&&a.current))return;if((null==a?void 0:a.current)instanceof Node){if(!e)return;try{e.removeChild(a.current),e.style.paddingRight="initial",e.style.overflow="initial"}catch(r){}}c(!1)}},[i]),l&&a.current&&i?(0,T.createPortal)((0,_.jsxs)(H,{children:[(0,_.jsx)("div",{className:"backdrop",onClick:d}),(0,_.jsx)(E,{onClose:d,typeResults:n})]}),a.current):null}),H=k.default.div.withConfig({displayName:"Searchv2__Searchv2Styled",componentId:"sc-1n7j6j1-0"})(["height:100%;width:100%;position:fixed;left:0;top:0;z-index:999;@keyframes modalPotalBackdrop{from{background:rgba(0,0,0,0);}to{background:rgba(0,0,0,0.3);}}> .backdrop{backdrop-filter:blur(8px);position:absolute;left:0;top:0;height:100%;width:100%;z-index:1;animation:modalPotalBackdrop 300ms linear 1 forwards;}"])},88123:function(e,t){t.Z={src:"/_next/static/media/buscargray.b72eda2c.svg",height:29,width:29}}}]);